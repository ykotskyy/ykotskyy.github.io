<!DOCTYPE html>
<html>
	<head>
				<meta charset="utf-8">
        <script src="https://d3js.org/d3.v4.js"></script>
        <title> Regional GDP Growth (1971-2019) </title>
	</head>
	<body>
		<div id="wrapper">
			<div class="sub_wrapper">	
				<div id="chartarea">
				</div>
				<div id="legend">
					<div class="line_box">
						<div class="line blue"></div>
						<div class="line_color">East Asia & Pacific</div>
					</div>
					<div class="line_box">
						<div class="line red"></div>
						<div class="line_color">Europe & Central Asia</div>
					</div>
					<div class="line_box">
						<div class="line green"></div>
						<div class="line_color">Middle East & North Africa</div>

					</div>
					<div class="line_box">
						<div class="line orange"></div>
						<div class="line_color">North America</div>

					</div>
					<div class="line_box">
						<div class="line gray"></div>
						<div class="line_color">South Asia</div>

					</div>
					<div class="line_box">
						<div class="line purple"></div>
						<div class="line_color">Sub-saharan Africa</div>
					</div>
					<div class="line_box">
						<div class="line"></div>
						<div class="line_color">Latin America & Caribean</div>
					</div>
				</div>
			</div>
			<div class="sub_wrapper">
				<div id="button_box">
					<div class="one" 
					onmouseover="document.getElementById('popup1').style.display = 'block';
										   document.getElementById('txt1').style.display = 'block';"
					onmouseout="document.getElementById('popup1').style.display = 'none';
										 document.getElementById('txt1').style.display = 'none';">
						<p> East Asia and Pacific </p>
					</div>
					<div class="two" 
					onmouseover="document.getElementById('popup2').style.display = 'block';
										   document.getElementById('txt2').style.display = 'block';"
					onmouseout="document.getElementById('popup2').style.display = 'none';
										 document.getElementById('txt2').style.display = 'none';">
					<p> Europe and Central Asia </p>
					</div>
					<div class="three" 
					onmouseover="document.getElementById('popup3').style.display = 'block';
										   document.getElementById('txt3').style.display = 'block';"
					onmouseout="document.getElementById('popup3').style.display = 'none';
										 document.getElementById('txt3').style.display = 'none';">
					<p> Middle East & North Africa </p>
					</div>
					<div class="four" 
					onmouseover="document.getElementById('popup4').style.display = 'block';
										   document.getElementById('txt4').style.display = 'block';"
					onmouseout="document.getElementById('popup4').style.display = 'none';
										 document.getElementById('txt4').style.display = 'none';">
					<p> North America </p>
					</div>
					<div class="five" 
					onmouseover="document.getElementById('popup5').style.display = 'block';
										   document.getElementById('txt5').style.display = 'block';"
					onmouseout="document.getElementById('popup5').style.display = 'none';
										 document.getElementById('txt5').style.display = 'none';">
					<p> South Asia </p>
					</div>
					<div class="six" 
					onmouseover="document.getElementById('popup6').style.display = 'block';
										   document.getElementById('txt6').style.display = 'block';"
					onmouseout="document.getElementById('popup6').style.display = 'none';
										 document.getElementById('txt6').style.display = 'none';">
					<p> Sub-saharan Africa </p>
					</div>
					<div class="seven" 
					onmouseover="document.getElementById('popup7').style.display = 'block';
										   document.getElementById('txt7').style.display = 'block';"
					onmouseout="document.getElementById('popup7').style.display = 'none';
										 document.getElementById('txt7').style.display = 'none';">
					<p> Latin America & Caribean </p>
					</div>
					
				</div>
				<div class="popup_wrapper">
					<div id="popup1">
						<div id="txt1">
						<p> 
							The East Asian and Pacific region has experienced some of the most consistent and strongest GDP growth in the world. This is in part due to the region being home to some of the world's longest modern economic booms, such as the Japanese economic miracle (1950-1990) and the economic boom in mainland China (1978-2015). 
							There has only been one year in which GDP growth was negative (1998) due to the 1997 Asian Financial Crisis which was caused by a debt crisis that caused a panic that spread through many of the countries in the region.
							However, this was only a minor bump in the road as today East Asia is one of the most economically prosperous and technologically advanced regions in the world.
							</p>
						</div>
					</div>
					<div id="popup2">
						<div id="txt2">
							<p>
							The Europe and Central Asia region has had rather slow GDP growth since 1971.  Much of the western world experienced a recession during the 1970s due to events such as the 1973 oil crisis, the 1973-1975 recession and the secondary banking crisis of 1973-1975 in the UK. Economic growth peaked again in 1988 but the early 1990s brought the Scandinavian banking crisis and Black Wednesday which hurt the Pound Sterling and other currencies, causing growth to bottom out in 1993. GDP growth once again peaked in 2000 at the height of the dot-com bubble and remained steady until the 2009 recession. Economic growth since then has been rather lukewarm, not going above 3%.	
								
							</p>
						</div>
					</div>
					<div id="popup3">
						<div id="txt3">
							<p>Middle East and North Africaâ€™s GDP growth has often been tied to the price and demand for oil, although in recent years that trend has started to break. The soaring of oil prices in the 1970s and brought tremendous economic growth, although the country was still affected by the 1973-1975 recession. The second oil crisis caused by the Yom Kippur War and the Iranian Revolution all hampered the regions economic growth. Oil prices and production continued to decline all throughout the 1980s which is reflected in the weak economic growth that did not pick up until 1988 and peaked in 1990 with the start of the Gulf War. Economic growth has since remained positive as oil prices started to once again rise in the 1990s and the increasing American influence due to the Iraq war and the diversification of local economies has kept economic growth steady ever since.  </p> 
						</div>
					</div>
					<div id="popup4">
						<div id="txt4">
							<p>Like Europe and Central Asia, North American economic growth was really impacted by the 1970s recession and the 1973 oil crisis. Although growth was back to pre-recession levels by 1976, the second oil crisis brought it to a halt. This was followed up by the impact of the 1982 Mexican Weekend which began the 1980s Latin America debt crisis. However, North America quickly recovered from this and experienced great growth during the remainder of the 80s. In fact, North America experienced stable economic growth all the way up until the 2008 recession except for 1991, in which the area was ravaged by the 1989-91 U.S. Savings & Loan crisis. </p>
						</div>
					</div>
					<div id="popup5">
						<div id="txt5">
							<p>Similarly, to East Asia, South Asia experienced consistent and strong economic growth due to same exact reasons. Its proximity to Japan, China, and Korea greatly helped the regions economic growth, although it did experience the effects of the Indo-Pakistan War of 1971 and the recession of the 1970s. The region also felt the effects of the 1979 oil crisis. Ever since then, the region has experienced great annual economic growth which started to accelerate in 1991 due to the economic liberalization of India. 
							</p>
						</div>
					</div>
					<div id="popup6">
						<div id="txt6">
							<p>Sub Saharan Africa has experienced tumultuous economic growth due to great instability caused by decolonization and the cold war. Because the area is so diverse and its economy so very underdeveloped, it is hard to pinpoint exactly what events were responsible for the poor economic performance. While the global recession of the 1970s and the oil crisis of 1979 could explain the poor growth experienced in those years, it is hard to gauge if that paints the whole picture. There were many civil wars, coup attempts and insurgencies during the early 1980s which could explain the poor growth the area experienced at the time. The early 1990s could be explained by the collapse of apartheid in South Africa, and the civil wars in Somalia and Sierra Lione. The region has experienced positive and strong economic growth since the early 1990s and is expected to reach middle income status by 2025. </p>
						</div>
					</div>
					<div id="popup7">
						<div id="txt7">
							<p>Latin America & Caribbean had very strong growth during the 1970s largely due to oil and rapid industrialization which caused them to take on huge amounts of debt to fund development and resource extraction. The global recession of the 1970s and the oil crises of the time culminated with the Latin American debt crisis which brought about a period of decline and stagnation for the region. Economic growth could not come to near pre crisis growth until 1997.  The region was furthered impacted by the drug war, the great recession of 2008 and now the Trump presidency which has caused its economic growth to be very weak. </p>
						</div>
					</div>
					
					
				</div>
			</div>
		</div>
	</body>
	<style>
		body{background-color:yellow}
		#wrapper{
			display:block;
			float:left;
			background-color:grey;
			width:90%;
			margin-left:2%;
			border:1px solid black;
			padding:3%;
		}
		.sub_wrapper{
			display:block;
			float:left;
			width:50%;
			
		}
		#chartarea{
			display:block;
			float:left;
			width:100%;
			height:600px;
			border:1px solid black;
			background-color:white;
			
		}
		#legend{
			display:block;
			float:left;
			width:80%;
			height:120px;
			border:1px solid black;
			margin-left:10%;
			margin-top:10px;
			background-color:white;
		}
		.line_box{
			display:block;
			float:left;
			width:130px;
			margin-left:5px;
			margin-top:10px;
			padding:1px;
		}
		.line{
			float:left;
			display:inline;
			width:25%;
			height:0px;
			margin-top:6px;
			margin-right: 15px;
			border:1px solid black;
		}
		.blue{border:1px solid blue;}
		.red{border:1px solid red;}
		.green{border:1px solid green;}
		.purple{border:1px solid purple;}
		.gray{border:1px solid gray;}
		.orange{border:1px solid orange;}
		
		.line_color{
			width:70%;
			margin-top:-7px;
			display:inline;
			float:right;
			font-size:10px;		
		}
		
		#button_box{
			display:block;
			float:left;
			width:90%;
			margin-left:5%;
			height:300px;
			border:1px solid black;
			background-color:white;
			margin-bottom:20px;
		}
		
		.popup_wrapper{
			display:block;
			float:left;
			width:90%;
			margin-left:5%;
			height:400px;
			border:1px solid black;
			background-color:white;
		}
		
		.one{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.two{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.three{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.four{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.five{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.six{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		.seven{
			display:block;
			float:left;
			width:150px;
			height:50px;
			border:1px solid black;
			margin-left:10px;
			margin-top:10px;
			font-size: 15px;
			text-align:center;
		}
		div.tooltip {
  position: absolute;
  text-align: center;
  pointer-events: none;
  
  line-height: 1;
  font-weight: bold;
  padding: 8px;
  background: rgba(0, 0, 0, 0.6);
  color: #fff;
  border-radius: 2px;
}
  
/* Creates a small triangle extender for the tooltip */
div.tooltip:after {
  clear;
  box-sizing: border-box;
  display: inline;
  font-size: 11px;
  top: 95%;
  left: 50%;
  line-height: 1;
  color: rgba(0, 0, 0, 0.6);
  content: "\25BC";
  position: absolute;
  text-align: center;
}
			
		#popup1{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid blue;
			background-color:#F0F6FF;
			display:none;
		}
		#popup2{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid red;
			background-color:#FFF0F0;
			display:none;
		}
		#popup3{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid green;
			background-color:#F2FFF0;
			display:none;
		}
		#popup4{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid orange;
			background-color:#FFFFF0;
			display:none;
		}
		#popup5{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid grey;
			background-color:#FFFFF0;
			display:none;
		}
		#popup6{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid purple;
			background-color:#F9F0FF;
			display:none;
		}
		#popup7{
			width:90%;
			margin-left:5%;
			height:90%;
			margin-top:5%;
			border:1px solid black;
			background-color:#F6F6F6;
			display:none;
		}
		
		#txt1{}
		#txt2{}
		#txt3{}
		#txt4{}
		#txt5{}
		#txt6{}
		#txt7{}
		
	
		
		
		@media only screen and (max-width: 900px){
			.sub_wrapper{width:100%; margin-bottom:20px;}
		}
		
	</style>
</html>

<script>

</script>


<script>
// set the dimensions and margins of the graph
var margin = {top: 20, right: 30, bottom: 60, left: 60},
    width = 670 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#chartarea")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

    
//Read the data
d3.csv("data/GDPdata1.csv",
  // When reading the csv, I must format variables:
  function(d){
    return {
    //  date : d3.timeParse("%Y-%m-%d")(d.date), value : d.value
    Time : d3.timeParse("%Y")(d.Time),
    East_Asia_and_Pacific 	 :  +d.EastAsiaandPacific,
    Europe_and_Central_Asia 	 : +d.EuropeandCentralAsia,
    Middle_East_and_North_Africa 	 : +d.MiddleEastandNorthAfrica,
    North_America  : +d.NorthAmerica,
    South_Asia 	: +d.SouthAsia,
    Sub_Saharan_Africa	: +d.SubSaharanAfrica,
    Latin_America_and_Caribbean : +d.LatinAmericaandCaribbean

        }
  },

  // Now I can use this dataset:
  function(data) {

    // Add X axis --> it is a date format
    var x = d3.scaleTime()
      .domain(d3.extent(data, function(d) { return d.Time; }))
      .range([ 0, width ]);
    svg.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x))
     
    svg.append("text")             
      .attr("transform",
            "translate(" + (width/2) + " ," + 
                           (height + margin.top + 20) + ")")
      .style("text-anchor", "middle")
      .text("Date");
    
    // Add Y axis
    var y = d3.scaleLinear()
      .domain([-5, 17])
      .range([ height, 0 ]);
    svg.append("g")
      .call(d3.axisLeft(y))
    
    svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("GDP growth (annual %)");   

    // Add the line
    var East = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.East_Asia_and_Pacific); });
    
    var Europe = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.Europe_and_Central_Asia); });
    
    var Middle = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.Middle_East_and_North_Africa); });
    
    var North = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.North_America); });
    
    var South = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.South_Asia); });
    
    var Sub = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.Sub_Saharan_Africa); });
    
    var Latin = d3.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.Latin_America_and_Caribbean); });
    
    svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "steelblue")
      .attr("stroke-width", 1.5)
      .attr("d", East);
   
            
     svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "red")
      .attr("stroke-width", 1.5)
      .attr("d", Europe);
    
     svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "green")
      .attr("stroke-width", 1.5)
      .attr("d", Middle);
   
            
     svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "orange")
      .attr("stroke-width", 1.5)
      .attr("d", North);
    
    svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "gray")
      .attr("stroke-width", 1.5)
      .attr("d", South);
    
     svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "purple")
      .attr("stroke-width", 1.5)
      .attr("d", Sub);

    svg.append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "black")
      .attr("stroke-width", 1.5)
      .attr("d", Latin);

	
function mouseover(d) {
    var name = d3.select(this).attr("d");
    
    // highlight this line, fade other lines
    d3.selectAll(".line").classed("line--hover", (d, i) => {
      return (name === d);
    }).classed("line--fade", (d, i) => {
      return (name !== d);
    });
    
    // display tooltip
    div.transition()
    	.duration(200)
    	.style("opacity", 1);
    div.html("accelerometer - " + name)
    	.style("left", (d3.event.pageX - 70) + "px")
      .style("top", (d3.event.pageY - 40) + "px");
  }
  
  // mouseout function
  function mouseout(d) {
    // turn off hover and fade effects
    d3.selectAll(".line")
      .classed("line--hover", false)
      .classed("line--fade", false);
    
    // hide tooltip
    div.transition()
    	.duration(500)
    	.style("opacity", 0);
  }
	
}, )
    

	
	


</script>
